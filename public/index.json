
[{"content":" DIY NAS with OpenMediaVault # A virtualized NAS design using OpenMediaVault, ZFS, and mergerfs, built for flexibility, performance, and scalability.\nğŸ“Œ Overview # This post documents my DIY NAS implementation running as a virtual machine within my Proxmox homelab.\nThe design prioritizes disk flexibility, fault tolerance, and clean separation between storage management and application workloads.\nğŸ§  Design Goals # Centralized storage for containers and client devices Flexible disk expansion with mixed drive types Filesystem-level redundancy and integrity Clean passthrough of storage hardware to the NAS VM ğŸ–¥ï¸ Platform \u0026amp; Virtualization # Hypervisor: Proxmox VE NAS OS: OpenMediaVault VM Configuration: PCIe passthrough for storage controller Host drivers blacklisted to ensure exclusive VM access This approach allows the NAS VM to fully control disk operations while maintaining Proxmox as the primary host.\nğŸ’¾ Storage Architecture # HBA \u0026amp; Passthrough # Controller: LSI HBA card Passthrough: PCIe passthrough enabled in Proxmox Driver Handling: Relevant host drivers blacklisted This ensures direct disk access and optimal ZFS behavior.\nFilesystems # The NAS uses a hybrid filesystem approach:\nZFS Used for data requiring integrity, checksumming, and resilience XFS Used for large, sequential data and high-performance workloads Pooling \u0026amp; Abstraction # mergerfs is used to combine multiple disks into a single unified directory Enables: Mixed disk sizes and types Easier expansion Simplified mount points for consumers ğŸ” Data Access \u0026amp; Sharing # Primary Protocol: NFS Consumers: Docker containers Client devices across the network This setup provides low-latency access while maintaining compatibility across Linux-based systems.\nğŸ” Reliability \u0026amp; Maintenance # SMART monitoring via OpenMediaVault ZFS scrubbing schedules Manual or automated snapshot strategies (optional) Backup strategy (describe here if applicable) ğŸš€ Future Improvements # Additional ZFS redundancy Off-site or cloud backups 10 GbE network upgrade Snapshot replication ğŸ“ Closing Thoughts # Running a NAS as a virtual machine has proven both stable and flexible.\nWith proper passthrough and filesystem choices, performance and reliability remain on par with bare-metal solutions.\nLast updated: YYYY-MM-DD\n","date":"25 July 2025","externalUrl":null,"permalink":"/posts/diy-nas/","section":"Posts","summary":"","title":"DIY NAS","type":"posts"},{"content":" Custom Home Network Infrastructure # A self-managed home network built for reliability, security, and seamless integration with a Proxmox-based homelab.\nğŸ“Œ Overview # This post outlines the design and maintenance of my custom home network infrastructure.\nThe network is built to support a virtualized homelab environment, multiple client devices, and self-hosted services while maintaining strong security and performance.\nğŸ§  Design Goals # Reliable internet connectivity Strong network segmentation and security Support for virtualization and self-hosted services Scalable switching and wireless coverage ğŸ§± Network Topology # ISP \u0026amp; Edge # ISP Modem: BT ONT Router / Firewall: OPNsense OPNsense serves as the core routing, firewalling, and gateway platform.\nSwitching \u0026amp; Wired Infrastructure # Switch: MikroTik managed switch Powerline Adapters: Used where structured cabling is unavailable Client Devices: Desktops, servers, peripherals, and IoT devices Wireless # Access Point: TP-Link AP Centralized wireless coverage for mobile and IoT devices ğŸ–¥ï¸ Homelab Integration # The network is tightly integrated with a Proxmox Virtual Environment running as an all-in-one homelab server.\nHosted Services # NAS (OpenMediaVault) Docker server CrowdSec Local API server Wazuh SIEM / XDR Game servers Kasm Workspaces (DaaS) ğŸ” Security Architecture # Stateful firewalling via OPNsense Intrusion detection and prevention: CrowdSec Wazuh SIEM / XDR Network segmentation (VLANs if applicable) Controlled ingress through reverse proxy services ğŸ“Š Monitoring \u0026amp; Management # Centralized logging (optional) Traffic visibility and firewall logging Device-level monitoring ğŸš€ Future Enhancements # VLAN-based network segmentation 2.5 GbE or 10 GbE core upgrades Improved wireless coverage Redundant internet connection ğŸ“ Closing Thoughts # This network provides a solid foundation for both everyday usage and advanced homelab experimentation.\nCombining enterprise-grade open-source tools with consumer hardware offers excellent flexibility at minimal cost.\nLast updated: YYYY-MM-DD\n","date":"25 July 2025","externalUrl":null,"permalink":"/posts/home-network-setup/","section":"Posts","summary":"","title":"Home Network Setup","type":"posts"},{"content":"","date":"25 July 2025","externalUrl":null,"permalink":"/","section":"Ksefuke-labs","summary":"","title":"Ksefuke-labs","type":"page"},{"content":"","date":"25 July 2025","externalUrl":null,"permalink":"/posts/","section":"Posts","summary":"","title":"Posts","type":"posts"},{"content":"An ambitious IT Support Engineer with over 3 years of experience in Cloud Based and on-premises Windows Infrastructure, in addition to supporting Linux Based Servers and Firewalls, Cyber security remediation, Email Security and server maintenance. Looking to progress from a generalist position to a more Linux oriented role.\n","date":"25 July 2025","externalUrl":null,"permalink":"/about/about/","section":"Abouts","summary":"","title":"","type":"about"},{"content":"","date":"25 July 2025","externalUrl":null,"permalink":"/about/","section":"Abouts","summary":"","title":"Abouts","type":"about"},{"content":" Proxmox All-in-One Homelab # An overview of my compact yet powerful Proxmox-based homelab, the hardware behind it, and the services it currently hosts.\nğŸ“Œ Overview # This post documents my current homelab setup built around a single Proxmox node.\nThe goal of this lab is to provide a reliable, energy-efficient, and flexible platform for self-hosting services, experimenting with infrastructure, and learning modern virtualization and container workflows.\nğŸ–¥ï¸ Hardware Specifications # Component Details CPU Intel Core i5-14500 Motherboard ASRock Z690 ITX Memory 64 GB DDR4 Case Silverstone RM21-308 Boot Drive 480 GB Intel DC SSD Primary Storage 2 TB NVMe VM Storage 960 GB SSD Network 2.5 GbE Realtek NIC (currently limited to 1 GbE) ğŸ§± Platform Choice: Proxmox VE # I chose Proxmox VE as the hypervisor for the following reasons:\nNative support for KVM virtual machines and LXC containers Excellent web-based management interface Strong community support Snapshotting, backups, and clustering capabilities Ideal balance between enterprise features and homelab usability ğŸ—‚ï¸ Storage Layout # The system uses a multi-disk approach to separate concerns:\nBoot Drive: Dedicated Intel DC SSD for Proxmox OS VM Disk Storage: NVMe for performance-critical workloads SATA SSD for general-purpose VMs Backups: (Describe your backup strategy here, if applicable) ğŸŒ Networking # Single onboard 2.5 GbE Realtek NIC Currently operating at 1 GbE due to network constraints Reverse proxy handled via Nginx Proxy Manager (Optional: VLANs, firewall rules, or future network upgrades)\nğŸ§© Virtual Machine Layout # All services are hosted in separate virtual machines to ensure isolation, easier maintenance, and improved security.\nğŸ³ Docker VM # This VM serves as the main container host and runs the following services:\nMedia \u0026amp; Content # Beets â€“ Music library management and tagging Jellyfin â€“ Self-hosted media streaming Immich â€“ Photo and video backup and management Infrastructure \u0026amp; Access # Nginx Proxy Manager (npmplus) â€“ Reverse proxy and TLS management Kasm Workspaces â€“ Browser-based containerized desktops CrowdSec LAPI â€“ Crowd-sourced intrusion prevention ğŸ” Security Considerations # Services isolated into individual VMs Reverse proxy handling all public ingress CrowdSec deployed for proactive threat detection (Optional: firewall rules, fail2ban, backups, access control) ğŸ“ˆ Performance \u0026amp; Resource Usage # (Describe CPU, RAM, and disk usage under normal load)\nAverage CPU utilization: Memory usage: Storage growth trends: ğŸ”„ Maintenance \u0026amp; Updates # Regular Proxmox updates Snapshotting before major changes Automated container updates (if applicable) ğŸš€ Future Plans # Some potential upgrades and improvements:\nUpgrade to full 2.5 GbE networking Add redundant storage or ZFS High availability or Proxmox clustering Monitoring with Prometheus / Grafana Automated backups to off-site storage ğŸ“ Closing Thoughts # This homelab strikes a balance between simplicity and capability.\nRunning everything on a single Proxmox node has proven reliable while still allowing room to grow and experiment.\nIf youâ€™re considering a compact all-in-one homelab, this setup offers a solid starting point.\nLast updated: YYYY-MM-DD\n","date":"25 December 2024","externalUrl":null,"permalink":"/posts/state-of-the-homelab-2022-2023/","section":"Posts","summary":"","title":"State of the Homelab 2023/2024","type":"posts"},{"content":"","externalUrl":null,"permalink":"/authors/","section":"Authors","summary":"","title":"Authors","type":"authors"},{"content":"","externalUrl":null,"permalink":"/categories/","section":"Categories","summary":"","title":"Categories","type":"categories"},{"content":"","externalUrl":null,"permalink":"/series/","section":"Series","summary":"","title":"Series","type":"series"},{"content":"","externalUrl":null,"permalink":"/tags/","section":"Tags","summary":"","title":"Tags","type":"tags"}]